{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "K9s plugin schema",
  "type": "object",
  "additionalProperties": false,
  "properties": {
      "shortCut": { "type": "string" },
      "override": { "type": "boolean" },
      "description": { "type": "string" },
      "confirm": { "type": "boolean" },
      "dangerous": { "type": "boolean" },
      "scopes": {
        "type": "array",
        "items": { "type": "string" }
      },
      "command": { "type": "string" },
      "background": { "type": "boolean" },
      "overwriteOutput": { "type": "boolean" },
      "args": {
        "type": "array",
        "items": { "type": ["string", "number"] }
      },
      "variables": {
        "type": "array",
        "items": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "name": { "type": "string" },
            "source": { 
              "type": "string", 
              "enum": ["script", "static"]
            },
            "command": { "type": "string" },
            "args": {
              "type": "array",
              "items": { "type": "string" }
            },
            "pipes": {
              "type": "array",
              "items": { "type": "string" }
            },
            "display": { 
              "type": "string", 
              "enum": ["none", "text", "select"]
            }
          },
          "required": [
            "name",
            "source",
            "display"
          ]
        }
      }
  },
  "required": ["shortCut", "description", "scopes", "command"]
}
